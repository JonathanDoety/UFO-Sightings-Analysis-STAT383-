---
title: "UFO Sightings"
output: html_notebook
author: Minh Ngoc Huynh, Tomas Gifford
---

We plan to analyse global UFO sightings with a country's development to see if there is a relationship between the two. For this analysis, a country's "development" is quantified by its GDP per capita to account for the amount of people in the country. 

Data from: 
https://www.kaggle.com/datasets/NUFORC/ufo-sightings
https://www.kaggle.com/datasets/gwenaelmouthuy/gdp-per-capita-between-1960-and-2021/ 

We will use the following R packages:
```{r}
library(tidyverse)
library(janitor)
library(here)

ufo <- read_csv(here("rawdata", "ufo-sightings-transformed.csv")) |> clean_names()
development <- read_csv(here("rawdata", "gdppercapita_us_inflation_adjusted.csv")) |> clean_names()

ggplot(ufo, aes(longitude, latitude)) + geom_point()

```
First, we'll plot a global ufo sightings map.
Now, I'd like to plot a map of just United States UFO sightings.
Use filter command on the ufo dataset to make a US sightings dataset.
Then plot it.
To make a block to code in do this: ```{r} #and to close it do this ```
Tomas Gifford
Playing around with an interactive map:
```{r}
library(sf)
library(tmap)
country<- st_read(here("rawdata", "countries.geojson")) |> rename(country = ADMIN)
country<- country |> filter (country != "Antarctica")
sightingsCount<- count(ufo, country, sort = TRUE)


sightingsByCountry <- merge(x = country, y = sightingsCount, by = "country", all.y = TRUE) |>
  rename(sightings = n)
sightingsByCountry<- na.omit(sightingsByCountry)

tmap_mode("view")
tmap_options(check.and.fix = TRUE)
tm_shape(sightingsByCountry) +tm_polygons("sightings",alpha=0.5)
```
